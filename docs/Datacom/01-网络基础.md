# 一、IP 地址基础知识

## 1.1 IP 地址和 MAC 地址

1. 以太网上的两台计算机之所以能够交换信息就是因为每个设备都有一块网卡，并且每块网卡拥有唯一的物理地址（称为 MAC 地址）和唯一的逻辑地址（称为 IP 地址）。

2. MAC 地址是由生产厂商烧录好的，一般不能改动，并且**全球唯一**；IP 地址需要绑定在网卡上，并且同一个 IP 地址不能绑定在多个网卡上。

3. MAC 地址和 IP 地址的区别如下：

   - MAC 地址和 IP 地址结构长度不一样。

     - MAC 地址是 48 位的十六进制数，IPv4 地址是 32 位的二进制数，IPv6 地址是128位，通常写成8组，每组为四个十六进制数的形式。
     - IPv4 地址使用"**点分十进制**"法表示；IPv6 地址使用"**冒分十六进制**"法表示。

     > IPv4地址：192.168.1.1
     >
     > IPv6地址：FE80:0000:0000:0000:AAAA:0000:00C2:0002
     >
     > MAC地址：00-E1-8C-D8-EC-FE

   - MAC 地址和 IP 地址在 OSI 模型中寻址层不同。

     - IP 地址应用于 OSI 第三层，即网络层
     - MAC 地址应用在 OSI 第二层，即数据链路层

   - MAC 地址和 IP 地址分配方式不一样。

     - MAC 地址分为前 24 位(称为组织唯一标志符,是由 1 的注册管理机构给厂商分配)和后 24 位(称为扩展标识符，由厂家自己分配)
     - IP 地址是由网络拓扑结构决定分配

## 1.2 IP 地址介绍

为了便于根据 IP 地址寻找到该地址所代表的主机，这个 32 位的二进制数被分为 2 个部分：192.168.10.1 →→ （192.168.10）网络号+（1）主机号

- 网络号：区分网络是否在同一区域（网段），说明可以划分为几个网络或区域。
- 主机号：区分同一个网络中的主机，说明网络里有多少台主机。

## 1.3 子网掩码介绍

**功能：**

子网掩码主要是用来确定 IP 地址的网络号和主机号各是多少位。

**主要特点：**

1. 子网掩码不能单独存在，必须和 IP 地址一起使用。
2. 子网掩码将某个 IP 地址划分成网络地址和主机地址两部分，用来判断两个 IP 是否在同一网络。
3. 子网掩码是一个 32 位的二进制数，用"**点分十进制**"表示；其对应网络地址的所有位置都为 1，对应于主机地址的所有位置都为 0。

## 1.4 IP 地址分类

| **范围（公网地址）**        | 分类     | 私有 IP                       | 网络类型 | 备注     |
| --------------------------- | -------- | ----------------------------- | -------- | -------- |
| 0.0.0.0 ~ 127.255.255.255   | A 类地址 | 10.0.0.0 ~ 10.255.255.255     | 大规模   |          |
| 128.0.0.0 ~ 191.255.255.255 | B 类地址 | 172.16.0.0 ~ 172.31.255.255   | 中等规模 |          |
| 192.0.0.0 ~ 223.255.255.255 | C 类地址 | 192.168.0.0 ~ 192.168.255.255 | 小规模   |          |
| 224.0.0.0 ~ 239.255.255.255 | D 类     |                               |          | 组播地址 |
| 240.0.0.0 ~ 247.255.255.255 | E 类     |                               |          | 保留     |

**A 类**

![image-20220320130705843](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220320130705843.png)

1、A 类 IP 地址由 1 字节网络地址和 3 字节主机地址组成，网络地址的最高位必须是 0

2、地址范围：0.0.0.0 ~ 127.255.255.255（00000000.00000000.00000000.00000000 ~ 01111111.11111111.11111111），默认子网掩码：255.0.0.0 或 /8；/8 表示 2^8

3、网络号全为 0 保留不可分配。例如：0.1.1.1、0.0.0.0

4、网络号全为 1 保留不分配。127.x.x.x/8。例如：127.1.1.1、127.0.0.1

5、主机号全为 0 表示本主机所在的网络地址；全为 1 表示代表主机网络上所有主机的广播地址。这两个也不能分配

综上所述：

1、A 类地址可用的网络数为 2^7-2=126 个

2、A 类地址每个网络可容纳的主机数为 2^24 -2 = 16777214 台

3、A 类地址一般给规模较大的网络使用

**B 类**

![image-20220320132306137](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220320132306137.png)

1、B 类 IP 地址由 2 字节网络地址和 2 字节主机地址组成，网络地址的最高位必须是 1 0

2、地址范围：128.0.0.0 ~ 191.255.255.255（10000000.00000000.00000000.00000000 ~ 10111111.11111111.11111111.11111111），默认子网掩码：255.255.0.0 或 /16；/8 表示 2^16

3、主机号全为 0 表示本主机所在的网络地址；全为 1 表示代表主机网络上所有主机的广播地址。这两个也不能分配

综上所述：

1、B 类地址可用的网络数为 2^14=16384 个

2、B 类地址每个网络可容纳的主机数为 2^16 -2 = 65534 台

3、B 类地址一般给中型规模的网络使用

**C 类**

![image-20220320133705153](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220320133705153.png)

1、C 类 IP 地址由 3 字节网络地址和 1 字节主机地址组成，网络地址的最高位必须是 1 1 0

2、地址范围：192.0.0.0 ~ 224.255.255.255（11000000.00000000.00000000.00000000 ~ 11011111.11111111.11111111.11111111），默认子网掩码：255.255.255.0 或 /24；/24 表示 2^24

3、主机号全为 0 表示本主机所在的网络地址；全为 1 表示代表主机网络上所有主机的广播地址。这两个也不能分配

综上所述：

1、C 类地址可用的网络数为 2^21=2097152 个

2、C 类地址每个网络可容纳的主机数为 2^8 -2 = 254 台

3、C 类地址一般给小型规模的网络使用

## 1.5 特殊 IP 地址

| IP 地址         | 说明                                      | 备注                                                         |
| --------------- | ----------------------------------------- | ------------------------------------------------------------ |
| 0.0.0.0         | 表示整个网络                              | 可表示本机源地址，也可表示某个特定主机，缺省地址             |
| 255.255.255.255 | 广播地址，主机位全为 1 ，意味着所有的主机 | x.255.255.255、x.x.255.255、x.x.x.255                        |
| 127.x.x.x       | 本机回环地址。默认 127.0.0.1              | 127.0.1.2、127.1.1.1 都表示本机回环地址，与 127.0.0.1 效果一样 |

# 二、子网划分

## 1.1 子网划分核心

- "**借用**"主机位来"**制造**"新的网络

- IP 地址 = 网络号 + **主机号**（子网位+主机位）

- 划分后：IP地址 = 网络位 + 子网位 + 主机位

## 1.2 子网划分方法

IP = 网络号 + 主机号（子网位 n + 主机位 m）

- 假设子网位为 n ;主机位为 m ;则子网数为 2^n 个，主机数为 2^m-2 个。 
- 子网掩码都是由一串连续的 0 和连续的 1 组成。这里可以将 n 看做后面有多少个 1，m 看做后面有多少个 0。 
- 由于主机位全 0 表示本网络，全 1 留作广播地址，所以主机数减掉 2。 
- 子网掩码：网络位为全为 1，主机位全为 0。

## 1.3 子网划分案例

1. 根据子网掩码判断主机数

```shell
# 子网掩码为 255.255.255.0 时，可以容纳多少台设备
255.255.255.0 = 11111111.11111111.11111111.00000000
主机数 = 2^8 - 2  = 254 台

# 子网掩码为 255.255.248.0 时，可以容纳多少台设备
255.255.248.0 = 11111111.11111111.11111000.00000000
主机数 = 2^11 - 2 = 2046 台
```

2. 根据主机数和子网数判断子网掩码

```shell
# B 类网络 145.38.0.0 需要划分为 20 个能容纳 200 台主机的子网网络，子网掩码设置多少合适
B 类网络子网掩码：255.255.0.0/16 换算成二进制为 11111111.11111111.00000000.00000000

根据题目列出不等式：
网络数：2^n >= 20
主机数：2^m -2 >= 200

由此可得：n 需要大于等于5，m 需要大于等于 8

所以子网掩码有两种满足需求的配置方式：
1. 二进制格式为 11111111.11111000.00000000，十进制为：255.255.248.0
2. 二进制格式为 11111111.11111111.00000000，十进制为：255.255.255.0
```

3. 根据 IP 和子网掩码判断子网数

```shell
# 192.168.0.0/255.255.255.128 该网络可以划分几个子网，每个子网范围分别是多少

1. 根据 IP 分类和子网掩码判断出该网络向主机号借了几位子网
2. 根据所借的子网位数算出子网数和主机 IP 范围

192.168.0.0 => C 类IP，标准子网掩码为 255.255.255.0，而题目给出的子网掩码为 255.255.255.128 => 11111111.11111111.11111111.10000000

由此可得 n = 1，m = 7网络划分出 2^1 = 2 个子网，2^7 -2 = 126 个主机

子网范围为
0 网：192.168.0.0 ~ 192.168.0.127，有效 IP 地址：192.168.0.1 ~ 192.168.0.126/255.255.255.128 广播地址：192.168.0.127
1 网：192.168.0.128 ~ 192.168.0.255，有效 IP 地址：192.168.0.129 ~ 192.168.0.254/255.255.255.128 广播地址：192.168.0.255 
```

# 三、OSI 七层模型

## 3.1 OSI 简介

- 开放系统互连参考模型,是国际标准化组织(ISO)和国际电报电话咨询委员会(CCITT)联合制定的开放系统互连参考模型。
- 目的是为开放式互连信息系统提供了一种功能结构的框架和参考。
- OSI 采用了分层的结构化技术，共分七层：**物理层、数据链路层、网络层、传输层、会话层、表示层、应用层**

![image-20220320201738817](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220320201738817.png)

## 3.2 OSI 七层的介绍

### 3.2.1 应用层

- 应用层是计算机用户，以及各种应用程序和网络之间的接口，其功能是直接向用户提供服务，完成用户希望在网络上完成的各种工作。
- 应用层为用户提供的服务和协议：文件传输服务（FTP）、远程登录服务（ssh）、网络管理服等。
- 应用层的主要功能如下：
  1. 用户接口：应用层是用户与网络，以及应用程序与网络间的直接接口，使得用户能够与网络进行交互式联系。
  2. 实现各种服务：该层具有的各种应用程序可以完成和实现用户请求的各种服务。

### 3.2.2 表示层

- 表示层是对来自应用层的命令和数据进行解释，对各种语法赋予相应的含义，并按照一定的格式传送给**会话层。**
- 其主要功能是**处理用户信息的表示问题**，如编码、数据格式转换和加密解密等。
- 表示层的具体功能如下：
  1. 数据格式处理：协商和建立数据交换的格式，解决各应用程序之间在数据格式表示上的差异。
  2. 数据的编码：处理字符集和数字的转换。
  3. 压缩和解压缩：为了减少数据的传输量，这一层还负责数据的压缩与解压缩。
  4. 数据的加密和解密：可以提高网络的安全性。

### 3.2.3 **会话层**

- 会话层是用户应用程序和网络之间的接口，主要任务是：组织和协调两个会话进程之间的通信，并对数据交换进行管理。
- 当建立会话时，用户必须提供他们想要连接的远程地址。

### 3.2.4 传输层

- OSI 上3层：应用层、表示层、会话层的主要任务是数据处理——**资源子网**
- OSI 下3层：网络层、数据链路层、物理层的主要任务是数据通讯——**通讯子网**
- 传输层是 OSI 模型的第 4 层，它是通信子网和资源子网的接口和桥梁，起到承上启下的作用
- 传输层的主要任务是：**向用户提供可靠的端到端的差错和流量控制，保证报文的正确传输**

### 3.2.5 网络层

- 主要任务是：**数据链路层的数据在这一层被转换为包**，然后通过路径选择、分段组合、顺序、进/出路由等控制，将信息从一个网络设备传送到另一个网络设备。
- 一般情况下，数据链路层是解决**同一网络**(局域网)内节点之间的通信，而网络层主要解决**不同子网**间的通信。

### 3.2.6 数据链路层

**在计算机网络中由于各种干扰的存在，物理链路是不可靠的。因此，这一层的主要功能是**:

- 在物理层提供的**比特流**的基础上，通过差错控制、流量控制方法，使有差错的物理线路变为无差错的数据链路，即向网络层提供可靠的通过物理介质传输数据的方法。
- 具体工作是：接收来自物理层的位流（比特流）形式的数据，通过差错控制等方法传到网络层；同样，也将来自上层的数据，封装成 3 转发到物理层；并且，还负责处理接收端发回的确认帧的信息，以便提供可靠的数据传输。

### 3.2.7 物理层

- 主要功能是：利用传输介质为数据链路层提供物理连接，实现比特流的透明传输。尽可能屏蔽掉具体传输介质和物理设备的差异。

### 3.3 总结

从网络功能的角度观察：

- 物理层、数据链路层、网络层：主要提供**数据传输和交换功能**，即节点到节点之间通信为主；
- 传输层：作为上下两部分的桥梁，是整个网络体系结构中最关键的部分；
- 会话层、表示层和应用层：以提供**用户与应用程序之间的信息和数据处理**功能为主；

# 四、常见的网络设备

## 4.1 集线器(HUB)

- 物理层设备，OSI模型第一层

- **共享带宽**的设备，采用**广播**的形式来传输信息，可以实现多台电脑同时使用一个进线接口来上网或组成局域网。
- HUB 不管有多少端口，所有端口都**共享一条带宽**，同一时刻只能有两个端口传送数据，其它端口只能等待，传输效率低；如果是 8 口的 HUB，那么每个端口得到的带宽就只有 1/8 的总带宽。

## 4.2 交换机

- 传统交换机属于OSI的第二层数据链路层设备

- 交换机的每一个端口所连接的网络都是独立的，也就是**独享带宽**。
- 并且能够进行**地址学习**（源端和目标端的 MAC 地址），维护一张 MAC 地址表。
- **隔离冲突域**。因为每个端口都有一条独占的带宽，当两个端口工作时不影响其它端口的工作。

## 4.3 路由器

- 一个作用是**连接不同的网络**，另一个作用是**选择信息传送的线路**（选路）。
- 选择通畅快捷的近路，能大大提高通信速度，减轻网络系统通信负荷，节约网络系统资源，提高网络系统畅通率。

## 4.4 总结

1. 单从组建局域网来说，交换机的速度最快，其次是路由器，最后是 HUB。而价格是路由器最贵，然后是交换机和 HUB。

2. 集线器和交换机的作用可以简单的理解为将一些机器连接起来组成一个局域网。

   但是两者在性能上有区别：集线器采用的式共享带宽的工作方式，而交换机是独享带宽。这样在机器很多或数据量很大时，两者将会有比较明显的区别。

3. 路由器的作用在于连接不同的网络并且找到网络中数据传输最合适的路径。

4. 交换机与路由器的区别在于：

   - 交换机属于 OSI 第二层即数据链路层设备。它根据 MAC 地址寻址。
   - 路由器属于 OSI 第三层即网络层设备，它根据 IP 地址进行寻址，通过路由表路由协议产生。
   - 交换机利用物理地址来确定是否转发数据；路由器是使用 IP 地址。由网络管理员来分配的。
   - 传统的交换机只能分割冲突域，而无法分割广播域；而路由器可以分割广播域。



# 五、TCP/IP 协议模型

## 5.1 TCP/IP 模型简介

- TCP/IP 协议模型（Transmission Control Protocol/Internet Protocol），包含了一系列构成互联网基础的网络协议，是 Internet 的核心协议，通过 20 多年的发展已日渐成熟，并被广泛应用于**局域网和广域网**中，目前已成为一种**国际标准**。
- TCP/IP 协议簇是一组不同层次上的**多个协议**的组合，该协议采用了 4 层的层级结构，每一层都呼叫它的下一层所提供的协议来完成自己的需求，与 OSI 的七层模型相对应。
- 尽管通常称该协议族为 TCP/IP，但 TCP 和 IP 只是其中的两种协议而已（该协议族的另一个名字是 Internet 协议族(Internet Protocol Suite)）

## 5.2 TCP/IP 的分层结构

![image-20220320214523092](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220320214523092.png)

### 5.2.1 链路层

- **OSI** 的物理层和数据链路层

- **ARP**（地址解析协议 **IP-MAC**）和 **RARP**（逆地址解析协议**MAC-IP**）是某些网络接口（如以太网）使用的特殊协议，用来转换 IP 层和网络接口层使用的地址

### 5.2.3 网络层

- 也称作互联网层或网际层，处理分组在网络中的活动，例如分组的选路。
- 在 TCP/IP 协议族中，网络层协议包括 IP 协议（网际协议），ICMP 协议（Internet 互联网控制报文协议），以及 IGMP 协议（ Internet 组管理协议）。
  1. **IP** 是一种网络层协议，提供的是一种不可靠的服务，它只是尽可能快地把分组从源结点送到目的结点，但是并不提供任何可靠性保证。同时被 TCP 和 UDP 使用。
  2. TCP 和 UDP 的每组数据都通过端系统和每个中间路由器中的 IP 层在互联网中进行传输。
  3. **ICMP** 是 IP 协议的附属协议。IP 层用它来与其他主机或路由器**交换错误报文和其他重要信息**。它主要是用来提供有关通向目的地址的路径信息。Ping 和Traceroute 工具，它们都使用了 ICMP 协议。
  4. **IGMP** 是 Internet 组管理协议。它用来把一个 UDP 数据报多播到多个主机。该协议运行在主机和组播路由器之间。

### 5.2.4 运输层

**主要为两台主机上的应用程序提供端到端的通信。在 TCP/IP 协议族中，有两个互不相同的传输协议：**

- **TCP（传输控制协议）**：为两台主机提供高可靠性的数据通信。TCP 是面向连接的通信协议，通过**三次握手**建立连接，通讯完成时要四次挥手断开连接，由于 TCP 是面向连接的所以只能用于端到端的通讯。

  TCP 提供的是一种可靠的数据流服务，采用**带重传的肯定确认**技术来实现传输的可靠性。也就是 TCP 数据包中包括序号（seq）和确认（ack），所以未按照顺序收到的包可以被排序，而损坏的包可以被重传。 

- **UDP（用户数据报协议）**：则为应用层提供一种非常简单的服务。它是面向无连接的通讯协议，UDP 数据包括目的端口号和源端口号信息，由于通讯不需要连接，所以可以实现广播发送。

  UDP 通讯时不需要接收方确认，不保证该数据报能到达另一端，属于不可靠的传输，可能会出现丢包现象。UDP 与 TCP 位于同一层，但它不管数据包的顺序、错误或重发。

### 5.2.5 应用层

- **OSI** 的会话层、表示层、应用层
- **应用层负责处理特定的应用程序细节。** HTTP、FTP、SSH、DHCP、DNS

## 5.3 数据封装过程

![image-20220320215948935](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220320215948935.png)

1. **数据格式**

   - TCP数据信息：TCP 头部 + 实际数据 ( TCP 头包括源和目标主机**端口号**、顺序号、确认号、校验字等）
   - IP 数据包：IP 头部 + TCP 数据信息（IP 头包括源和目标主机 **IP **地址、类型、生存期等）
   - 数据帧：帧头 + IP 数据包 + 帧尾 （帧头包括源和目标主机 **MAC 初步地址**及类型，帧尾是校验字）

2. **数据的封装与解封装**

   - 封装：数据要通过网络进行传输，要从高层一层一层的向下传送，如果一个主机要传送

   - 数据到别的主机，先把数据装到一个特殊协议报头中，这个过程叫封装。 解封装：上述的逆向过程

# 六、三次握手与四次挥手

## 6.1 相关名词

序列号：Seq 序号，占 32 位，用来标识从 TCP 源端向目的端发送的字节流，发起方发送数据时对此进行标记。 

确认序号：Ack 序号，占 32 位，只有 ACK 标志位为 1 时，确认序号字段才有效，Ack = Seq + 1。 

常见的标志位： 

- ACK：确认序号有效。 

- SYN：发起一个新连接。 

- FIN：释放一个连接

## 6.2 网络状态

**CLOSED**：初始（无连接）状态。 

**LISTEN**：侦听状态，等待远程机器的连接请求。 

**SYN_SEND**：在 TCP 三次握手中，主动连接端发送了 SYN 包后，进入 SYN_SEND 状态，等待对方的 ACK 包。 

**SYN_RECV**：在 TCP 三次握手中，主动连接端收到 ACK 包后，进入 SYN_RECV 状态。 

**ESTABLISHED**：完成 TCP 三次握手后，主动连接端进入 ESTABLISHED 状态。此时，TCP 连接已经建立，可以进行通信。 

**FIN_WAIT_1**：在 TCP 四次断开时，主动关闭端发送 FIN 包后，进入 FIN_WAIT_1 状态。 

**FIN_WAIT_2**：在 TCP 四次断开时，主动关闭端收到 ACK 包后，进入 FIN_WAIT_2 状态。

**TIME_WAIT**：在 TCP 四次断开时，主动关闭端发送了 ACK 包之后，进入 TIME_WAIT 状态。 

**CLOSE_WAIT**：在 TCP 四次断开时，被动关闭端收到 FIN 包后，进入 CLOSE_WAIT 状态。 

**LAST_ACK**：在 TCP 四次断开时，被动关闭端发送 FIN 包后，进入 LAST_ACK 状态，等待对方的 ACK 包。 

## 6.3 三次握手

![image-20220321213900901](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220321213900901.png)

TCP 三次握手的过程如下：

1. 客户机 A 端（主动连接端）发送一个 SYN 包给服务器 B 端（被动连接端）； 

2. 服务器 B 端（被动连接端）收到 SYN 包后，发送一个带 ACK 和 SYN 标志的包给客户机 A 端（主动连接端）； 

3. 客户机 A 端（主动连接端）发送一个带 ACK 标志的包给服务器 B 端（被动连接端），握手动作完成。

## 6.4 四次断开

![image-20220321215254424](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220321215254424.png)

TCP 四次断开的过程如下： 

1. 客户机 A 端（主动连接端）发送一个 FIN 包给服务器 B 端（被动连接端）请求断开连接；

2. 服务器 B 端（被动连接端）收到 FIN 包后，发送一个 ACK 包给客户机 A 端（主动连接端）；

3. 服务器 B 端（被动连接端）发送了 ACK 包后，再发送一个 FIN 包给客户机 A 端（主动连接端）确认断开；

4. 客户机 A 端（主动连接端）收到 FIN 包后，发送一个 ACK 包，当服务器 B 端（被动连接端）收到 ACK 包后，四次断开动作完成，连接断开。

# 七、Vmware 的三种网络模式

## 7.1 Vmware 的虚拟设备

- VMnet0：用于虚拟**桥接网络**下的虚拟交换机
- VMnet1：用于虚拟**Host-Only**网络下的虚拟交换机
- VMnet8：用于虚拟**NAT**网络下的虚拟交换机
- VMware Network Adepter VMnet1：Host 用于与 Host-Only 虚拟网络进行通信的虚拟网卡
- VMware Network Adepter VMnet8：Host 用于与 NAT 虚拟网络进行通信的虚拟网卡

## 7.2 桥接网络

> 桥接网络是指虚拟网卡通过 VMnet0 虚拟交换机和本地物理网卡进行桥接，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机。所以要想虚拟机也可以连接到互联网中，那么两个网卡的 IP 地址也要设置为同一网段。



![image-20220322193756845](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220322193756845.png)

## 7.3 NAT 网络

> 在 NAT 网络中，会用到 VMware Network Adepter VMnet8 虚拟网卡，主机上的 VMware Network Adepter VMnet8 虚拟网卡被直接连接到 VMnet8 虚拟交换机上与虚拟网卡进行通信。VMware Network Adepter VMnet8 虚拟网卡的作用仅限于和 VMnet8 网段进行通信，它不给 VMnet8 网段提供路由功能，所以虚拟机虚拟一个 NAT 服务器，使虚拟网卡可以连接到 Internet。 VMware Network Adepter VMnet8 虚拟网卡的 IP 地址是在安装 VMware 时由系统指定生成的，我们尽量不要修改这个数值，否则可能会使主机和虚拟机无法通信。

![image-20220322193921124](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220322193921124.png)

## 7.4 Host-Only 模式

> 在 Host-Only 模式下，虚拟网络是一个全封闭的网络，它唯一能够访问的就是物理真机。其实 Host-Only 网络和 NAT 网络很相似，不同的地方就是 Host-Only 网络没有 NAT 服务，所以虚拟网络不能连接到 Internet。主机和虚拟机之间的通信是通过 VMware Network Adepter VMnet1 虚拟网卡来实现的。

![image-20220322194024067](./01-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/image-20220322194024067.png)
